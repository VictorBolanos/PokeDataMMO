<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PokeDataMMO - Personal Wiki and Utilities for PokeMMO</title>
    <meta name="description" content="Personal Wiki and Utilities for PokeMMO gameplay">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="img/MasterBall.png">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="source/style.css">
</head>
<body>
    <!-- Main Container -->
    <div class="main-container d-flex flex-column align-items-center">
        <!-- Header Card - Fixed -->
        <div class="header-card d-flex align-items-center justify-content-between">
            <img src="img/TitleLogo.png" alt="PokeDataMMO" class="title-logo" id="titleLogo" style="cursor: pointer;">
            
            <!-- Mobile Menu Container (< 420px) -->
            <div class="mobile-menu-container d-flex align-items-center gap-2">
                <!-- User Pill (izquierda en m√≥vil) -->
                <div class="user-pill-container-mobile position-relative" id="userPillContainerMobile">
                    <!-- Se clonar√° el user pill aqu√≠ din√°micamente -->
                </div>
                
                <!-- Hamburger Menu Button (derecha en m√≥vil) -->
                <button class="hamburger-menu-btn" id="hamburgerMenuBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 12h18M3 6h18M3 18h18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            
            <!-- Menu Buttons Container -->
            <div class="menu-buttons-container d-flex align-items-center gap-3">
                <!-- User Pill (shown when logged in) -->
                <div class="user-pill-container position-relative" id="userPillContainer">
                    <button class="user-pill-btn" id="userPillBtn">
                        <svg width="16" height="16" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
                            <path fill="white" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"/>
                        </svg>
                        <span class="username-display" id="usernameDisplay"></span>
                        <svg width="10" height="10" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="dropdown-arrow-svg">
                            <path fill="white" d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    
                    <!-- User Dropdown -->
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-info-section">
                            <div class="user-avatar">
                                <svg width="40" height="40" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="white" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"/>
                                </svg>
                            </div>
                            <div class="user-details">
                                <div class="user-name" id="userDropdownName"></div>
                                <div class="user-email" id="userDropdownEmail"></div>
                            </div>
                        </div>
                        <div class="user-actions" id="userActions">
                            <!-- Login button (shown when not logged in) -->
                            <button class="login-btn" id="dropdownLoginBtn" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="white" d="M416 448h-84c-6.6 0-12-5.4-12-12V304c0-6.6-5.4-12-12-12h-32c-6.6 0-12 5.4-12 12v132c0 6.6-5.4 12-12 12h-84c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h84c6.6 0 12 5.4 12 12v40c0 6.6 5.4 12 12 12h32c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12h-84c-53 0-96 43-96 96v320c0 53 43 96 96 96h84c53 0 96-43 96-96V76c0-6.6-5.4-12-12-12h-32c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12z"/>
                                </svg>
                                <span id="dropdownLoginBtnText">Iniciar Sesi√≥n</span>
                            </button>
                            
                            <!-- Logout button (shown when logged in) -->
                            <button class="logout-btn" id="logoutBtn" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="white" d="M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"/>
                                </svg>
                                <span id="logoutBtnText">Cerrar Sesi√≥n</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- 1. Language Button -->
                <div class="language-container position-relative">
                    <button class="language-btn" id="languageBtn" title="Change Language / Cambiar Idioma">
                        <img src="img/res/language-icons/united-kingdom.png" alt="Language" class="language-icon" id="languageIcon">
                    </button>
                </div>
                
                <!-- 2. Color Selector -->
                <div class="color-selector-container position-relative">
                    <button class="selector-btn color-btn" id="colorSelectorBtn" title="Change Color Theme">
                        <div class="color-preview" id="colorPreview"></div>
                    </button>
                    
                    <!-- Color Dropdown -->
                    <div class="color-dropdown" id="colorDropdown">
                        <div class="dropdown-header">
                            <h6 class="mb-0">Select Color</h6>
                            <button class="close-btn" id="closeColorDropdown">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Custom Color Picker -->
                        <div class="custom-color-picker">
                            <!-- Color Preview -->
                            <div class="color-preview-section">
                                <div class="current-color-preview" id="currentColorPreview"></div>
                                <div class="color-info">
                                    <div class="color-hex" id="colorHexDisplay">#ffffff</div>
                                    <div class="color-rgb" id="colorRgbDisplay">rgb(255, 255, 255)</div>
                                </div>
                            </div>
                            
                            <!-- Color Picker Controls -->
                            <div class="color-picker-controls">
                                <!-- Hue Slider -->
                                <div class="color-slider-container">
                                    <label class="slider-label">Hue</label>
                                    <div class="hue-slider-container">
                                        <input type="range" id="hueSlider" class="color-slider hue-slider" min="0" max="360" value="0">
                                        <div class="slider-track hue-track"></div>
                                    </div>
                                </div>
                                
                                <!-- Saturation Slider -->
                                <div class="color-slider-container">
                                    <label class="slider-label">Saturation</label>
                                    <div class="saturation-slider-container">
                                        <input type="range" id="saturationSlider" class="color-slider saturation-slider" min="0" max="100" value="0">
                                        <div class="slider-track saturation-track"></div>
                                    </div>
                                </div>
                                
                                <!-- Lightness Slider -->
                                <div class="color-slider-container">
                                    <label class="slider-label">Lightness</label>
                                    <div class="lightness-slider-container">
                                        <input type="range" id="lightnessSlider" class="color-slider lightness-slider" min="0" max="100" value="100">
                                        <div class="slider-track lightness-track"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Preset Colors -->
                            <div class="preset-colors-section">
                                <div class="preset-label">Quick Colors</div>
                                <div class="preset-colors-grid" id="presetColorsGrid">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="color-picker-actions">
                                <button class="color-action-btn reset-btn" id="resetColorBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Reset
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 3. Font Selector -->
                <div class="font-selector-container position-relative">
                    <button class="selector-btn" id="fontSelectorBtn" title="Change Font">
                        <img src="img/res/ui-icons/menu/font.svg" alt="Font" class="selector-icon">
                    </button>
                    
                    <!-- Font Dropdown -->
                    <div class="font-dropdown" id="fontDropdown">
                        <div class="dropdown-header">
                            <h6 class="mb-0">Select Font</h6>
                            <button class="close-btn" id="closeFontDropdown">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="font-list" id="fontList">
                            <!-- Fonts will be loaded dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- 4. Theme Button -->
                <div class="theme-container position-relative">
                    <button class="theme-btn" id="themeBtn">
                        <svg width="20" height="20" viewBox="0 0 472 472" xmlns="http://www.w3.org/2000/svg" id="sunIcon">
                            <path fill="white" d="m123 95l-30 30l-39-38l30-30zM64 216v43H0v-43h64zM256 4v63h-43V4h43zm159 83l-38 38l-30-30l38-38zm-69 292l30-29l39 38l-30 30zm59-163h64v43h-64v-43zM235 109q53 0 90.5 37.5T363 237t-37.5 90.5T235 365t-90.5-37.5T107 237t37.5-90.5T235 109zm-22 362v-63h43v63h-43zM54 388l39-39l30 30l-39 39z"/>
                        </svg>
                        <svg width="20" height="20" viewBox="0 0 1472 1536" xmlns="http://www.w3.org/2000/svg" id="moonIcon" style="display: none;">
                            <path fill="white" d="M1464 1090q-94 203-283 323.5T768 1536q-157-1-299-62t-244.5-163.5T61 1066T0 768q0-205 97.5-378t267-276.5T738 2q43-2 62 38q17 42-16 72q-176 164-176 400q0 111 43 211.5t115 173t172.5 116T1151 1056q119 0 228-51q41-18 72 13t13 72z"/>
                        </svg>
                    </button>
                </div>
                
                <!-- 5. Wallpaper Button -->
                <div class="wallpaper-container position-relative">
                    <button class="wallpaper-btn" id="wallpaperBtn">
                        <svg width="20" height="20" viewBox="0 0 432 432" xmlns="http://www.w3.org/2000/svg">
                            <path fill="white" d="M43 45v150H0V45q0-17 12.5-29.5T43 3h149v42H43zm128 192l63 79l43-57l64 85H85zm149-95.5q0 13.5-9.5 22.5t-22.5 9t-22.5-9t-9.5-22.5t9.5-23T288 109t22.5 9.5t9.5 23zM384 3q18 0 30.5 12.5T427 45v150h-43V45H235V3h149zm0 384V237h43v150q0 17-12.5 29.5T384 429H235v-42h149zM43 237v150h149v42H43q-18 0-30.5-12.5T0 387V237h43z"/>
                        </svg>
                    </button>
                    
                    <!-- Wallpaper Dropdown -->
                    <div class="wallpaper-dropdown" id="wallpaperDropdown">
                        <div class="wallpaper-header">
                            <h6 class="mb-0">Select Background</h6>
                            <button class="close-btn" id="closeWallpaper">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="wallpaper-grid" id="wallpaperGrid">
                            <!-- Wallpapers will be loaded dynamically -->
                        </div>
                    </div>
                </div>
                
                <!-- 6. Music Player Button -->
                <div class="music-container position-relative">
                    <button class="music-btn" id="musicBtn">
                        <svg width="20" height="20" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                            <path fill="white" d="M831.5 896Q752 896 696 858.5T640 768t56-90.5T832 640q31 0 64 8V269L384 371v525q0 53-56 90.5T192 1024T56 986.5T0 896t56-90.5T192 768q31 0 64 8V192q0-26 19-45t45-19L960 0q26 0 45 18.5t19 45.5v704q0 53-56.5 90.5t-136 37.5z"/>
                        </svg>
                    </button>
                    
                    <!-- Music Player Dropdown -->
                    <div class="music-dropdown" id="musicDropdown">
                        <div class="music-header">
                            <h6 class="mb-0">Music Player</h6>
                            <button class="close-btn" id="closeMusic">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                    <path d="M18 6L6 18M6 6L18 18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="music-player">
                            <!-- Song Display -->
                            <div class="song-display">
                                <div class="song-title" id="songTitle">Select a song</div>
                                
                                <!-- Progress Bar -->
                                <div class="progress-container" id="progressContainer">
                                    <div class="progress-bar" id="progressBar">
                                        <div class="progress-thumb" id="progressThumb"></div>
                                    </div>
                                </div>
                                
                                <div class="song-info" id="songInfo">--:-- / --:--</div>
                            </div>
                            
                            <!-- Main Controls -->
                            <div class="main-controls">
                                <button class="control-btn" id="prevBtn">
                                    <svg width="12" height="12" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M10.137 9.318a1 1 0 0 0 0 1.364l4.632 4.963c.62.664 1.731.226 1.731-.682V5.037c0-.908-1.112-1.346-1.731-.682l-4.632 4.963Z"/>
                                        <path fill="white" d="M5.137 9.318a1 1 0 0 0 0 1.364l4.632 4.963c.62.664 1.731.226 1.731-.682V5.037c0-.908-1.112-1.346-1.731-.682L5.137 9.318Z"/>
                                        <path fill="white" d="M4.5 4a1 1 0 0 0-1 1v10a1 1 0 1 0 2 0V5a1 1 0 0 0-1-1Z"/>
                                    </svg>
                                </button>
                                <button class="control-btn play-pause-btn" id="playPauseBtn">
                                    <svg width="12" height="12" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="playIcon">
                                        <path fill="white" d="m4 4l12 6l-12 6z"/>
                                    </svg>
                                    <svg width="12" height="12" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="pauseIcon" style="display: none;">
                                        <path fill="white" d="M5 4h3v12H5V4zm7 0h3v12h-3V4z"/>
                                    </svg>
                                </button>
                                <button class="control-btn" id="nextBtn">
                                    <svg width="12" height="12" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M9.863 9.318a1 1 0 0 1 0 1.364l-4.632 4.963c-.62.664-1.731.226-1.731-.682V5.037c0-.908 1.112-1.346 1.731-.682l4.632 4.963Z"/>
                                        <path fill="white" d="M14.863 9.318a1 1 0 0 1 0 1.364l-4.632 4.963c-.62.664-1.731.226-1.731-.682V5.037c0-.908 1.112-1.346 1.731-.682l4.632 4.963Z"/>
                                        <path fill="white" d="M15.5 4a1 1 0 0 1 1 1v10a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1Z"/>
                                    </svg>
                                </button>
                                <button class="control-btn" id="stopBtn">
                                    <svg width="12" height="12" viewBox="0 0 256 384" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M0 64h256v256H0V64z"/>
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- Volume Controls -->
                            <div class="volume-controls">
                                <button class="control-btn" id="muteBtn" title="Mute/Unmute">
                                    <svg width="12" height="12" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M1014 57L57 1014q-10 10-24 10t-23.5-9.5T0 991t10-24L967 10q10-10 24-10t23.5 9.5T1024 33t-10 24zM448 256L693 13q30-30 75 16v54L448 402V256zM128 704V320q0-26 19-45t45-19h192v210L131 720q-3-8-3-16zm640 293q-45 45-75 14L448 768v-18l320-320v567z"/>
                                    </svg>
                                </button>
                                <button class="control-btn" id="volumeDownBtn">
                                    <svg width="12" height="12" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M8 7h8v2H8V7zm-1.5 8a.504.504 0 0 1-.354-.146L2.292 11H.499a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h1.793l3.854-3.854A.499.499 0 0 1 7 1.5v13a.5.5 0 0 1-.5.5z"/>
                                    </svg>
                                </button>
                                <div class="volume-display" id="volumeDisplay">50%</div>
                                <button class="control-btn" id="volumeUpBtn">
                                    <svg width="12" height="12" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                        <path fill="white" d="M16 9h-3v3h-2V9H8V7h3V4h2v3h3v2zm-9.5 6a.504.504 0 0 1-.354-.146L2.292 11H.499a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 .5-.5h1.793l3.854-3.854A.499.499 0 0 1 7 1.5v13a.5.5 0 0 1-.5.5z"/>
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- Playlist -->
                            <div class="playlist" id="playlist">
                                <!-- Songs will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Hamburger Menu Dropdown (m√≥vil < 450px) -->
            <div class="hamburger-menu-dropdown" id="hamburgerMenuDropdown">
                <div class="hamburger-menu-content">
                    <!-- Language Button -->
                    <button class="hamburger-menu-item" id="hamburgerLanguageBtn">
                        <img src="img/res/language-icons/united-kingdom.png" alt="Language" class="hamburger-icon" id="hamburgerLanguageIcon">
                        <span>Cambiar Idioma</span>
                    </button>
                    
                    <!-- Color Button -->
                    <button class="hamburger-menu-item" id="hamburgerColorBtn">
                        <div class="hamburger-color-preview" id="hamburgerColorPreview"></div>
                        <span>Cambiar Color</span>
                    </button>
                    
                    <!-- Font Button -->
                    <button class="hamburger-menu-item" id="hamburgerFontBtn">
                        <img src="img/res/ui-icons/menu/font.svg" alt="Font" class="hamburger-icon">
                        <span>Cambiar Fuente</span>
                    </button>
                    
                    <!-- Theme Button -->
                    <button class="hamburger-menu-item" id="hamburgerThemeBtn">
                        <svg width="20" height="20" viewBox="0 0 472 472" xmlns="http://www.w3.org/2000/svg" class="hamburger-icon">
                            <path fill="white" d="m123 95l-30 30l-39-38l30-30zM64 216v43H0v-43h64zM256 4v63h-43V4h43zm159 83l-38 38l-30-30l38-38zm-69 292l30-29l39 38l-30 30zm59-163h64v43h-64v-43zM235 109q53 0 90.5 37.5T363 237t-37.5 90.5T235 365t-90.5-37.5T107 237t37.5-90.5T235 109zm-22 362v-63h43v63h-43zM54 388l39-39l30 30l-39 39z"/>
                        </svg>
                        <span id="hamburgerThemeText">Tema Claro</span>
                    </button>
                    
                    <!-- Wallpaper Button -->
                    <button class="hamburger-menu-item" id="hamburgerWallpaperBtn">
                        <svg width="20" height="20" viewBox="0 0 432 432" xmlns="http://www.w3.org/2000/svg" class="hamburger-icon">
                            <path fill="white" d="M43 45v150H0V45q0-17 12.5-29.5T43 3h149v42H43zm128 192l63 79l43-57l64 85H85zm149-95.5q0 13.5-9.5 22.5t-22.5 9t-22.5-9t-9.5-22.5t9.5-23T288 109t22.5 9.5t9.5 23zM384 3q18 0 30.5 12.5T427 45v150h-43V45H235V3h149zm0 384V237h43v150q0 17-12.5 29.5T384 429H235v-42h149zM43 237v150h149v42H43q-18 0-30.5-12.5T0 387V237h43z"/>
                        </svg>
                        <span>Cambiar Fondo</span>
                    </button>
                    
                    <!-- Music Button -->
                    <button class="hamburger-menu-item" id="hamburgerMusicBtn">
                        <svg width="20" height="20" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="hamburger-icon">
                            <path fill="white" d="M831.5 896Q752 896 696 858.5T640 768t56-90.5T832 640q31 0 64 8V269L384 371v525q0 53-56 90.5T192 1024T56 986.5T0 896t56-90.5T192 768q31 0 64 8V192q0-26 19-45t45-19L960 0q26 0 45 18.5t19 45.5v704q0 53-56.5 90.5t-136 37.5z"/>
                        </svg>
                        <span>Reproductor</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Authentication Card (shown when not logged in) -->
        <div class="auth-card" id="authCard" style="display: none;">
            <div class="auth-container">
                <!-- Auth Header -->
                <div class="auth-header">
                    <h2 class="auth-title" id="authTitle">üîê PokeDataMMO</h2>
                    <p class="auth-subtitle" id="authSubtitle">Inicia sesi√≥n o reg√≠strate para continuar</p>
                </div>
                
                <!-- Auth Tabs -->
                <div class="auth-tabs">
                    <button class="auth-tab active" data-auth-tab="login" id="loginTab">
                        Iniciar Sesi√≥n
                    </button>
                    <button class="auth-tab" data-auth-tab="register" id="registerTab">
                        Registrarse
                    </button>
                </div>
                
                <!-- Auth Content -->
                <div class="auth-content">
                    <!-- Login Form -->
                    <div class="auth-pane active" id="loginPane">
                        <form class="auth-form" id="loginForm">
                            <div class="form-group mb-3">
                                <label class="form-label" id="loginUsernameLabel">
                                    <span id="loginUsernameLabelText">Usuario</span> <span class="text-danger">*</span> <span class="text-danger">HOLA</span>
                                </label>
                                <input type="text" class="form-control auth-input" id="loginUsername" 
                                       placeholder="username" autocomplete="username">
                            </div>
                            <div class="form-group mb-4">
                                <label class="form-label" id="loginPasswordLabel">
                                    <span id="loginPasswordLabelText">Contrase√±a</span> <span class="text-danger">*</span>
                                </label>
                                <input type="password" class="form-control auth-input" id="loginPassword" 
                                       placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
                            </div>
                            <div class="auth-message" id="loginMessage"></div>
                            <button type="submit" class="btn btn-primary w-100 auth-submit-btn" id="loginSubmitBtn">
                                <span id="loginSubmitBtnText">Iniciar Sesi√≥n</span>
                            </button>
                        </form>
                    </div>
                    
                    <!-- Register Form -->
                    <div class="auth-pane" id="registerPane">
                        <form class="auth-form" id="registerForm">
                            <div class="form-group mb-3">
                                <label class="form-label" id="registerUsernameLabel">
                                    <span id="registerUsernameLabelText">Usuario</span> <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control auth-input" id="registerUsername" 
                                       placeholder="username" autocomplete="username">
                                <small class="form-text" id="usernameHelp">3-20 caracteres, solo letras, n√∫meros, _ y -</small>
                            </div>
                            <div class="form-group mb-3">
                                <label class="form-label" id="registerPasswordLabel">
                                    <span id="registerPasswordLabelText">Contrase√±a</span> <span class="text-danger">*</span>
                                </label>
                                <input type="password" class="form-control auth-input" id="registerPassword" 
                                       placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
                                <small class="form-text" id="passwordHelp">M√≠nimo 4 caracteres</small>
                            </div>
                            <div class="form-group mb-4">
                                <label class="form-label" id="registerEmailLabel">
                                    <span id="registerEmailLabelText">Email</span> <span class="text-muted" id="registerEmailOptional">(opcional)</span>
                                </label>
                                <input type="email" class="form-control auth-input" id="registerEmail" 
                                       placeholder="email@example.com" autocomplete="email">
                            </div>
                            <div class="auth-message" id="registerMessage"></div>
                            <button type="submit" class="btn btn-primary w-100 auth-submit-btn" id="registerSubmitBtn">
                                <span id="registerSubmitBtnText">Registrarse</span>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Card -->
        <div class="main-card" id="mainCard">
            <!-- Unified Tab System -->
            <div class="tab-system-container" id="tabSystem">
                <!-- Navigation Tabs -->
                <div class="nav-tabs-container d-flex">
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="leagues" aria-selected="false">
                        <span class="tab-icon">üèÜ</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Leagues</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="farming" aria-selected="false">
                        <span class="tab-icon">üå±</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Berry Farming</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="breeding" aria-selected="false">
                        <span class="tab-icon">üß¨</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Breeding Calculator</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="pokecalc" aria-selected="false">
                        <span class="tab-icon">üî¢</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Pok√©mon Calculator</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="pvp" aria-selected="false">
                        <span class="tab-icon">‚öîÔ∏è</span>
                        <span class="tab-text d-none d-lg-inline ms-1">PVP Teams</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="pokedex" aria-selected="false">
                        <span class="tab-icon">üì±</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Pok√©dex</span>
                    </button>
                    <button class="nav-tab d-flex align-items-center justify-content-center flex-fill" data-tab="typechart" aria-selected="false">
                        <span class="tab-icon">‚ö°</span>
                        <span class="tab-text d-none d-lg-inline ms-1">Types Table</span>
                    </button>
                </div>
                
                <!-- Tab Content Area -->
                <div class="tab-content-area">
                    <div class="tab-content">
                        <!-- Home Tab (Default - No tab button) -->
                        <div class="tab-pane active" id="home">
                            <div class="home-content-wrapper">
                                <div class="home-header text-center mb-5">
                                    <img src="img/TitleLogo.png" alt="PokeDataMMO" class="home-logo mb-4">
                                    <h1 class="home-title mb-3">
                                        <img src="img/MasterBall.png" alt="PokeDataMMO" class="home-title-icon"> PokeDataMMO
                                    </h1>
                                    <p class="home-subtitle lead mb-4" id="homeSubtitle">Personal Wiki & Advanced Utilities for PokeMMO</p>
                                    <p class="home-description" id="homeDescription">Una suite completa de herramientas profesionales para optimizar tu experiencia de juego en PokeMMO</p>
                                </div>

                                <div class="home-features">
                                    <div class="row g-4">
                                        <!-- Berry Farming -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">üå±</div>
                                                <h3 class="feature-title" id="homeFeature1Title">Berry Farming Calculator</h3>
                                                <p class="feature-description" id="homeFeature1Desc">Sistema avanzado de c√°lculo para optimizar el cultivo de bayas y maximizar beneficios.</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature1Item1">üìÖ Horarios de riego autom√°ticos</li>
                                                    <li id="homeFeature1Item2">üí∞ An√°lisis de beneficios en tiempo real</li>
                                                    <li id="homeFeature1Item3">üíæ Guardado en la nube</li>
                                                    <li id="homeFeature1Item4">üîÑ Auto-guardado cada 7 segundos</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- PVP Teams -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">‚öîÔ∏è</div>
                                                <h3 class="feature-title" id="homeFeature2Title">PVP Teams Manager</h3>
                                                <p class="feature-description" id="homeFeature2Desc">Sistema completo de construcci√≥n y gesti√≥n de equipos para juego competitivo.</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature2Item1">üéØ Equipos de 6 Pok√©mon</li>
                                                    <li id="homeFeature2Item2">üìä Calculadora de estad√≠sticas</li>
                                                    <li id="homeFeature2Item3">üß¨ Sistema de naturalezas</li>
                                                    <li id="homeFeature2Item4">‚ö° Habilidades y movimientos</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- Pok√©dex -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">üì±</div>
                                                <h3 class="feature-title" id="homeFeature3Title">Pok√©dex Interactivo</h3>
                                                <p class="feature-description" id="homeFeature3Desc">Base de datos completa de Pok√©mon con informaci√≥n detallada (Generaciones I-V).</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature3Item1">üîç B√∫squeda inteligente</li>
                                                    <li id="homeFeature3Item2">üìä Estad√≠sticas completas</li>
                                                    <li id="homeFeature3Item3">üé® Sprites oficiales</li>
                                                    <li id="homeFeature3Item4">‚ö° Efectividad de tipos</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- Type Chart -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">‚ö°</div>
                                                <h3 class="feature-title" id="homeFeature4Title">Tabla de Efectividad</h3>
                                                <p class="feature-description" id="homeFeature4Desc">Calculadora interactiva de matchups de tipos y tabla de referencia.</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature4Item1">üéØ Soporte de doble tipo</li>
                                                    <li id="homeFeature4Item2">üìä Muestra 4x, 2x, 0.5x, 0.25x, 0x</li>
                                                    <li id="homeFeature4Item3">üìã Tabla completa</li>
                                                    <li id="homeFeature4Item4">üé® Indicadores visuales</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- Pok√©mon Calculator -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">üî¢</div>
                                                <h3 class="feature-title" id="homeFeature5Title">Calculadora Pok√©mon</h3>
                                                <p class="feature-description" id="homeFeature5Desc">Herramientas avanzadas de c√°lculo para juego competitivo.</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature5Item1">üìä Calculadora de estad√≠sticas</li>
                                                    <li id="homeFeature5Item2">‚öîÔ∏è Simulador de da√±o (pr√≥ximamente)</li>
                                                    <li id="homeFeature5Item3">üéØ Herramientas de optimizaci√≥n</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- Breeding Calculator -->
                                        <div class="col-md-6 col-lg-4">
                                            <div class="feature-card h-100">
                                                <div class="feature-icon">üß¨</div>
                                                <h3 class="feature-title" id="homeFeature6Title">Calculadora de Cr√≠a</h3>
                                                <p class="feature-description" id="homeFeature6Desc">Optimiza el proceso de cr√≠a de Pok√©mon con gu√≠a paso a paso.</p>
                                                <ul class="feature-list">
                                                    <li id="homeFeature6Item1">üéØ Selecci√≥n de Pok√©mon objetivo</li>
                                                    <li id="homeFeature6Item2">üìù C√°lculo de ruta √≥ptima</li>
                                                    <li id="homeFeature6Item3">üê¶ Modo dual: Con/Sin Natu</li>
                                                    <li id="homeFeature6Item4">üíé Optimizaci√≥n de IVs y naturaleza</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="home-highlights mt-5">
                                    <div class="row g-4">
                                        <div class="col-md-4">
                                            <div class="highlight-card text-center">
                                                <div class="highlight-icon">üé®</div>
                                                <h4 id="homeHighlight1Title">UI Hermosa y Moderna</h4>
                                                <p id="homeHighlight1Desc">Dise√±o glass-morphism con animaciones suaves y temas personalizables</p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="highlight-card text-center">
                                                <div class="highlight-icon">‚òÅÔ∏è</div>
                                                <h4 id="homeHighlight2Title">Potenciado por la Nube</h4>
                                                <p id="homeHighlight2Desc">Integraci√≥n con Firebase para sincronizaci√≥n en tiempo real y autenticaci√≥n segura</p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="highlight-card text-center">
                                                <div class="highlight-icon">üåç</div>
                                                <h4 id="homeHighlight3Title">Verdaderamente Multiling√ºe</h4>
                                                <p id="homeHighlight3Desc">Soporte completo en espa√±ol e ingl√©s con traducciones din√°micas</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="home-footer text-center mt-5 pt-4 border-top">
                                    <p class="mb-2" id="homeFooterText1">Hecho con ‚ù§Ô∏è para la Comunidad PokeMMO</p>
                                    <p class="text-muted" id="homeFooterText2">¬°Feliz Gaming! üéâ</p>
                                </div>
                            </div>
                        </div>

                        <!-- Leagues Tab -->
                        <div class="tab-pane" id="leagues">
                            <div class="mb-4 pb-3 border-bottom border-secondary">
                                <h2 class="d-flex align-items-center gap-3 mb-3">üèÜ Leagues</h2>
                                <p class="lead mb-0">Complete guides for conquering the game's leagues</p>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <h4 class="mb-3">What's Coming</h4>
                                    <p class="mb-3">This section will contain comprehensive guides for all the leagues in PokeMMO, including:</p>
                                    <ul class="feature-list list-unstyled">
                                        <li class="mb-2"><strong>Strategy guides</strong> for each gym leader and Elite Four member</li>
                                        <li class="mb-2"><strong>Recommended team compositions</strong> for different regions</li>
                                        <li class="mb-2"><strong>Level recommendations</strong> and training tips</li>
                                        <li class="mb-2"><strong>Item usage strategies</strong> for optimal performance</li>
                                    </ul>
                                    <div class="alert alert-info mt-3">
                                        <strong>Ambitious Project:</strong> We're considering translating and adapting the comprehensive Chinese league strategy guides into properly written English guides.
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="status-card bg-light bg-opacity-10 border border-secondary rounded p-4 text-center">
                                        <h5 class="text-white mb-3">Development Status</h5>
                                        <span class="badge bg-warning">In Planning</span>
                                        <p class="mt-2 mb-0">Research phase ongoing</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Berry Farming Tab -->
                        <div class="tab-pane" id="farming">
                            <div class="mb-4 pb-3 border-bottom border-secondary">
                                <h2 class="d-flex align-items-center gap-3 mb-3">üå± Berry Farming</h2>
                                <p class="lead mb-0">Management and optimization system for berry cultivation</p>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <h4 class="mb-3">What's Coming</h4>
                                    <p class="mb-3">This section will provide comprehensive berry farming management tools:</p>
                                    <ul class="feature-list list-unstyled">
                                        <li class="mb-2"><strong>Berry growth tracking</strong> with timers and notifications</li>
                                        <li class="mb-2"><strong>Optimal planting schedules</strong> for maximum yield</li>
                                        <li class="mb-2"><strong>Soil condition monitoring</strong> and fertilizer recommendations</li>
                                        <li class="mb-2"><strong>Profit calculators</strong> for different berry types</li>
                                        <li class="mb-2"><strong>Harvest optimization</strong> strategies</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <div class="status-card bg-light bg-opacity-10 border border-secondary rounded p-4 text-center">
                                        <h5 class="text-white mb-3">Development Status</h5>
                                        <span class="badge bg-primary">In Development</span>
                                        <p class="mt-2 mb-0">Core functionality being built</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Breeding Calculator Tab -->
                        <div class="tab-pane" id="breeding">
                            <div class="mb-4 pb-3 border-bottom border-secondary">
                                <h2 class="d-flex align-items-center gap-3 mb-3">üß¨ Extreme Breeding Calculator</h2>
                                <p class="lead mb-0">Advanced calculator to optimize the Pok√©mon breeding process</p>
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <h4 class="mb-3">What's Coming</h4>
                                    <p class="mb-3">This advanced calculator will help you create the perfect Pok√©mon through optimized breeding:</p>
                                    <ul class="feature-list list-unstyled">
                                        <li class="mb-2"><strong>Target Pok√©mon Selection</strong> - Choose your desired Pok√©mon</li>
                                        <li class="mb-2"><strong>Optimal Breeding Path</strong> - Get step-by-step breeding instructions</li>
                                        <li class="mb-2"><strong>Dual Mode System</strong>:
                                            <ul class="mt-1 ms-3">
                                                <li class="mb-1">Mode with Natu (Synchronize ability enabled)</li>
                                                <li class="mb-1">Mode without Natu (no Synchronize)</li>
                                            </ul>
                                        </li>
                                        <li class="mb-2"><strong>IV and Nature optimization</strong> recommendations</li>
                                        <li class="mb-2"><strong>Egg move planning</strong> and compatibility checks</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <div class="status-card bg-light bg-opacity-10 border border-secondary rounded p-4 text-center">
                                        <h5 class="text-white mb-3">Development Status</h5>
                                        <span class="badge bg-success">High Priority</span>
                                        <p class="mt-2 mb-0">Algorithm design in progress</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pok√©mon Calculator Tab -->
                        <div class="tab-pane" id="pokecalc">
                            <div class="pokemon-calculator-container">
                                <!-- Damage Calculator Card -->
                                <div class="calculator-card">
                                    <div class="calculator-header">
                                        <h2 class="d-flex align-items-center justify-content-center gap-3 mb-3" id="damageCalcTitle">
                                            ‚öîÔ∏è Calculadora de Da√±os Pok√©mon
                                        </h2>
                                        <p class="lead mb-0 text-center" id="damageCalcSubtitle">
                                            Calcula el da√±o entre Pok√©mon en combate
                                        </p>
                                    </div>
                                    <div class="calculator-content" id="damageCalculatorContent">
                                        <!-- Damage Calculator Interface -->
                                        <div class="damage-calculator">
                                            <!-- Pok√©mon Slots System -->
                                            <div class="pokemon-slots-container">
                                                <div class="pokemon-slots-header">
                                                    <h6 class="slots-title">Equipo de Comparaci√≥n</h6>
                                                </div>
                                                <div class="pokemon-slots-grid" id="pokemonSlotsGrid">
                                                    <!-- Los slots se generar√°n din√°micamente -->
                                                </div>
                                            </div>
                                            
                                            <!-- Main Calculator Layout -->
                                            <div class="damage-calculator-layout">
                                                <!-- Pok√©mon 1 -->
                                                <div class="pokemon-panel pokemon-1">
                                                    <div class="pokemon-header">
                                                        <h6 class="pokemon-title">Pok√©mon 1</h6>
                                                        <div class="pokemon-selector">
                                                            <input type="text" class="form-control pokemon-search" id="pokemon1Search" placeholder="Buscar Pok√©mon...">
                                                            <div class="pokemon-dropdown" id="pokemon1Dropdown"></div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="pokemon-sprite-container">
                                                        <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/0.png" alt="Pok√©mon" class="pokemon-sprite" id="pokemon1Sprite" style="opacity: 0;">
                                                    </div>

                                                    <div class="pokemon-level">
                                                        <label class="form-label">Nivel</label>
                                                        <input type="number" class="form-control" id="pokemon1Level" value="100" min="1" max="100">
                                                    </div>

                                                    <div class="pokemon-hp-bar">
                                                        <label class="form-label">Vida Actual</label>
                                                        <div class="hp-bar-container">
                                                            <div class="hp-bar" id="pokemon1HpBar">
                                                                <div class="hp-bar-fill" id="pokemon1HpFill" style="width: 100%;"></div>
                                                            </div>
                                                            <div class="hp-bar-text" id="pokemon1HpText">1 / 1 (100%)</div>
                                                        </div>
                                                        <input type="range" class="form-range hp-slider" id="pokemon1HpSlider" min="0" max="1" value="1" step="1">
                                                    </div>

                                                    <div class="pokemon-stats-table">
                                                        <table class="table table-sm">
                                                            <thead>
                                                                <tr>
                                                                    <th>Stat</th>
                                                                    <th>Base</th>
                                                                    <th>EVs</th>
                                                                    <th>IVs</th>
                                                                    <th>Final</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>PS</td>
                                                                    <td id="pokemon1HpBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1HpEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1HpIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1HpFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>ATAQUE</td>
                                                                    <td id="pokemon1AtkBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1AtkEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1AtkIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1AtkFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>DEFENSA</td>
                                                                    <td id="pokemon1DefBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1DefEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1DefIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1DefFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>AT. ESP.</td>
                                                                    <td id="pokemon1SpAtkBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpAtkEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpAtkIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1SpAtkFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>DEF. ESP.</td>
                                                                    <td id="pokemon1SpDefBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpDefEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpDefIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1SpDefFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>VELOCIDAD</td>
                                                                    <td id="pokemon1SpeBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpeEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon1SpeIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon1SpeFinal">1</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <div class="ev-total">
                                                            <small class="text-muted">Total EVs: <span id="pokemon1EvTotal">0</span> / 510</small>
                                                        </div>
                                                    </div>

                                                    <div class="pokemon-details">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <label class="form-label">Naturaleza</label>
                                                                <select class="form-select form-select-sm" id="pokemon1Nature">
                                                                    <option value="">Seleccionar...</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row mt-2">
                                                            <div class="col-12">
                                                                <label class="form-label">Habilidad</label>
                                                                <select class="form-select form-select-sm" id="pokemon1Ability">
                                                                    <option value="">Seleccionar...</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row mt-2">
                                                            <div class="col-12">
                                                                <label class="form-label">Objeto</label>
                                                                <div id="pokemon1ItemContainer"></div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="pokemon-moves">
                                                        <label class="form-label">Movimientos</label>
                                                        <div class="moves-container" id="pokemon1MovesContainer">
                                                            <!-- Se generar√°n din√°micamente -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Field Conditions (Center) -->
                                                <div class="field-panel">
                                                    <div class="field-header">
                                                        <h6 class="field-title">Estado del Campo</h6>
                                                    </div>

                                                    <div class="field-conditions">
                                                        <div class="field-section">
                                                            <label class="form-label">Tipo de Combate</label>
                                                            <div class="btn-group w-100" role="group">
                                                                <input type="radio" class="btn-check" name="battleType" id="singles" value="singles" checked>
                                                                <label class="btn btn-outline-custom btn-sm" for="singles">Individual</label>
                                                                
                                                                <input type="radio" class="btn-check" name="battleType" id="doubles" value="doubles">
                                                                <label class="btn btn-outline-custom btn-sm" for="doubles">Doble</label>
                                                                
                                                                <input type="radio" class="btn-check" name="battleType" id="triples" value="triples">
                                                                <label class="btn btn-outline-custom btn-sm" for="triples">Triple</label>
                                                            </div>
                                                        </div>

                                                        <div class="field-section">
                                                            <label class="form-label">Meteorolog√≠a</label>
                                                            <div class="btn-group w-100" role="group">
                                                                <input type="radio" class="btn-check" name="weather" id="weather-none" value="none" checked>
                                                                <label class="btn btn-outline-custom btn-sm" for="weather-none">Ninguno</label>
                                                                
                                                                <input type="radio" class="btn-check" name="weather" id="weather-sun" value="sun">
                                                                <label class="btn btn-outline-custom btn-sm" for="weather-sun">Sol</label>
                                                                
                                                                <input type="radio" class="btn-check" name="weather" id="weather-rain" value="rain">
                                                                <label class="btn btn-outline-custom btn-sm" for="weather-rain">Lluvia</label>
                                                                
                                                                <input type="radio" class="btn-check" name="weather" id="weather-sandstorm" value="sandstorm">
                                                                <label class="btn btn-outline-custom btn-sm" for="weather-sandstorm">Tormenta Arena</label>
                                                                
                                                                <input type="radio" class="btn-check" name="weather" id="weather-hail" value="hail">
                                                                <label class="btn btn-outline-custom btn-sm" for="weather-hail">Granizo</label>
                                                            </div>
                                                        </div>

                                                        <div class="field-section">
                                                            <label class="form-label">Espacio Raro</label>
                                                            <div class="btn-group w-100 justify-content-center" role="group">
                                                                <input type="checkbox" class="btn-check" id="rareSpaceToggle" autocomplete="off">
                                                                <label class="btn btn-outline-custom btn-sm" for="rareSpaceToggle">Espacio Raro</label>
                                                            </div>
                                                        </div>

                                                        <div class="field-section">
                                                            <label class="form-label">Estados de Campo</label>
                                                            <div class="field-effects-container">
                                                                <div class="field-effects-left">
                                                                    <h6 class="field-effects-title">Pok√©mon 1</h6>
                                                                    <div class="field-effects-buttons">
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="helping-hand">Helping Hand</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="reflect">Reflect</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="light-screen">Light Screen</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="tailwind">Tailwind</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="sea-of-fire">Sea of Fire</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="swamp">Swamp</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="friend-guard">Friend Guard</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="stealth-rock">Stealth Rock</button>
                                                                        <div class="spikes-selector">
                                                                            <label class="form-label">Spikes</label>
                                                                            <div class="btn-group" role="group">
                                                                                <input type="radio" class="btn-check" name="spikes1" id="spikes1-0" value="0" checked>
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes1-0">0</label>
                                                                                <input type="radio" class="btn-check" name="spikes1" id="spikes1-1" value="1">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes1-1">1</label>
                                                                                <input type="radio" class="btn-check" name="spikes1" id="spikes1-2" value="2">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes1-2">2</label>
                                                                                <input type="radio" class="btn-check" name="spikes1" id="spikes1-3" value="3">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes1-3">3</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="field-effects-right">
                                                                    <h6 class="field-effects-title">Pok√©mon 2</h6>
                                                                    <div class="field-effects-buttons">
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="helping-hand">Helping Hand</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="reflect">Reflect</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="light-screen">Light Screen</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="tailwind">Tailwind</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="sea-of-fire">Sea of Fire</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="swamp">Swamp</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="friend-guard">Friend Guard</button>
                                                                        <button class="btn btn-outline-custom btn-sm field-effect-btn" data-effect="stealth-rock">Stealth Rock</button>
                                                                        <div class="spikes-selector">
                                                                            <label class="form-label">Spikes</label>
                                                                            <div class="btn-group" role="group">
                                                                                <input type="radio" class="btn-check" name="spikes2" id="spikes2-0" value="0" checked>
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes2-0">0</label>
                                                                                <input type="radio" class="btn-check" name="spikes2" id="spikes2-1" value="1">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes2-1">1</label>
                                                                                <input type="radio" class="btn-check" name="spikes2" id="spikes2-2" value="2">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes2-2">2</label>
                                                                                <input type="radio" class="btn-check" name="spikes2" id="spikes2-3" value="3">
                                                                                <label class="btn btn-outline-custom btn-sm" for="spikes2-3">3</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="field-section">
                                                            <label class="form-label">Movimientos Seleccionados</label>
                                                            <div class="moves-selection-panel">
                                                                <div class="moves-selection-left">
                                                                    <h6 class="moves-selection-title">Pok√©mon 1</h6>
                                                                    <div class="move-selection-buttons">
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="1" data-move="1">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit1-1" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit1-1">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="1" data-move="2">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit1-2" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit1-2">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="1" data-move="3">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit1-3" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit1-3">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="1" data-move="4">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit1-4" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit1-4">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="moves-selection-right">
                                                                    <h6 class="moves-selection-title">Pok√©mon 2</h6>
                                                                    <div class="move-selection-buttons">
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="2" data-move="1">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit2-1" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit2-1">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="2" data-move="2">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit2-2" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit2-2">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="2" data-move="3">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit2-3" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit2-3">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="move-selection-item">
                                                                            <button class="btn btn-outline-primary btn-sm move-selection-btn" data-pokemon="2" data-move="4">
                                                                                <span class="move-name">(Sin movimiento)</span>
                                                                                <span class="move-damage">-</span>
                                                                            </button>
                                                                            <div class="crit-toggle-container">
                                                                                <input type="checkbox" class="btn-check" id="crit2-4" autocomplete="off">
                                                                                <label class="btn btn-outline-custom btn-sm crit-toggle-label" for="crit2-4">Crit</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Results Panel (movido aqu√≠) -->
                                                        <div class="field-section mt-3">
                                                            <div class="damage-results-panel">
                                                                <div class="damage-result-header">
                                                                    <h5 class="mb-2">Resultado del Da√±o</h5>
                                                                </div>
                                                                <div class="damage-result-content" id="damageResultContent">
                                                                    <p class="text-muted mb-0">Selecciona un movimiento para ver los resultados del da√±o</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Pok√©mon 2 -->
                                                <div class="pokemon-panel pokemon-2">
                                                    <div class="pokemon-header">
                                                        <h6 class="pokemon-title">Pok√©mon 2</h6>
                                                        <div class="pokemon-selector">
                                                            <input type="text" class="form-control pokemon-search" id="pokemon2Search" placeholder="Buscar Pok√©mon...">
                                                            <div class="pokemon-dropdown" id="pokemon2Dropdown"></div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="pokemon-sprite-container">
                                                        <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/0.png" alt="Pok√©mon" class="pokemon-sprite" id="pokemon2Sprite" style="opacity: 0;">
                                                    </div>

                                                    <div class="pokemon-level">
                                                        <label class="form-label">Nivel</label>
                                                        <input type="number" class="form-control" id="pokemon2Level" value="100" min="1" max="100">
                                                    </div>

                                                    <div class="pokemon-hp-bar">
                                                        <label class="form-label">Vida Actual</label>
                                                        <div class="hp-bar-container">
                                                            <div class="hp-bar" id="pokemon2HpBar">
                                                                <div class="hp-bar-fill" id="pokemon2HpFill" style="width: 100%;"></div>
                                                            </div>
                                                            <div class="hp-bar-text" id="pokemon2HpText">1 / 1 (100%)</div>
                                                        </div>
                                                        <input type="range" class="form-range hp-slider" id="pokemon2HpSlider" min="0" max="1" value="1" step="1">
                                                    </div>

                                                    <div class="pokemon-stats-table">
                                                        <table class="table table-sm">
                                                            <thead>
                                                                <tr>
                                                                    <th>Stat</th>
                                                                    <th>Base</th>
                                                                    <th>EVs</th>
                                                                    <th>IVs</th>
                                                                    <th>Final</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>PS</td>
                                                                    <td id="pokemon2HpBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2HpEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2HpIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2HpFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>ATAQUE</td>
                                                                    <td id="pokemon2AtkBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2AtkEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2AtkIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2AtkFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>DEFENSA</td>
                                                                    <td id="pokemon2DefBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2DefEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2DefIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2DefFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>AT. ESP.</td>
                                                                    <td id="pokemon2SpAtkBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpAtkEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpAtkIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2SpAtkFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>DEF. ESP.</td>
                                                                    <td id="pokemon2SpDefBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpDefEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpDefIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2SpDefFinal">1</td>
                                                                </tr>
                                                                <tr>
                                                                    <td>VELOCIDAD</td>
                                                                    <td id="pokemon2SpeBase">-</td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpeEv" value="0" min="0" max="252"></td>
                                                                    <td><input type="number" class="form-control form-control-sm" id="pokemon2SpeIv" value="31" min="0" max="31"></td>
                                                                    <td id="pokemon2SpeFinal">1</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <div class="ev-total">
                                                            <small class="text-muted">Total EVs: <span id="pokemon2EvTotal">0</span> / 510</small>
                                                        </div>
                                                    </div>

                                                    <div class="pokemon-details">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <label class="form-label">Naturaleza</label>
                                                                <select class="form-select form-select-sm" id="pokemon2Nature">
                                                                    <option value="">Seleccionar...</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row mt-2">
                                                            <div class="col-12">
                                                                <label class="form-label">Habilidad</label>
                                                                <select class="form-select form-select-sm" id="pokemon2Ability">
                                                                    <option value="">Seleccionar...</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row mt-2">
                                                            <div class="col-12">
                                                                <label class="form-label">Objeto</label>
                                                                <div id="pokemon2ItemContainer"></div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="pokemon-moves">
                                                        <label class="form-label">Movimientos</label>
                                                        <div class="moves-container" id="pokemon2MovesContainer">
                                                            <!-- Se generar√°n din√°micamente -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- PVP Teams Tab -->
                        <div class="tab-pane" id="pvp">
                            <!-- Se llenar√° din√°micamente por JavaScript -->
                        </div>
                        
                        <!-- Pok√©dex Tab -->
                        <div class="tab-pane" id="pokedex">
                            <div class="pokedex-container">
                                <div class="pokedex-header">
                                    <h2 class="d-flex align-items-center justify-content-center gap-3 mb-3" id="pokedexTitle">üì± Pok√©dex</h2>
                                    <p class="lead mb-0" id="pokedexSubtitle">Complete Pok√©mon database for PokeMMO (Generations I-V)</p>
                                </div>
                                
                                <!-- Search Section -->
                                <div class="row mb-4">
                                    <div class="col-md-8 mx-auto">
                                        <div class="pokemon-search-container">
                                            <div class="search-input-wrapper">
                                                <input type="text" 
                                                       class="form-control pokemon-search-input" 
                                                       id="pokemonSearch"
                                                       placeholder="Search Pok√©mon by name or ID (e.g., 'pikachu' or '25')"
                                                       autocomplete="off">
                                                <div class="search-suggestions" id="searchSuggestions"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Pokemon Card Container -->
                                <div class="pokemon-card-container" id="pokemonCardContainer">
                                    <div class="text-center text-muted">
                                        <h4>Search for a Pok√©mon to see its details</h4>
                                        <p>Try searching for "pikachu", "charizard", or "25"</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Type Table Tab -->
                        <div class="tab-pane" id="typechart">
                            <div class="type-calculator-container">
                                <div class="type-calculator-header">
                                    <h2 class="d-flex align-items-center justify-content-center gap-3 mb-3" id="typeTableTitle">‚ö° Type Table</h2>
                                    <p class="lead mb-0" id="typeTableSubtitle">Interactive Pok√©mon type effectiveness system</p>
                                </div>
                                
                                <!-- Type Selectors -->
                                <div class="row mb-4">
                                    <div class="col-md-12">
                                        <div class="type-selector-container">
                                            <label class="form-label text-white mb-3">Select Types (Primary + Optional Secondary)</label>
                                            <div class="type-buttons-grid" id="typeButtonsGrid">
                                                <!-- Type buttons will be populated by JavaScript -->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Effectiveness Results -->
                                <div class="effectiveness-results mb-4" id="effectivenessResults" style="display: none;">
                                    <div class="effectiveness-grid">
                                        <div class="effectiveness-card ultra-effective">
                                            <h5 class="text-center mb-3">Ultra Effective (4x)</h5>
                                            <div class="effectiveness-list" id="ultraEffectiveList"></div>
                                        </div>
                                        <div class="effectiveness-card super-effective">
                                            <h5 class="text-center mb-3">Super Effective (2x)</h5>
                                            <div class="effectiveness-list" id="superEffectiveList"></div>
                                        </div>
                                        <div class="effectiveness-card not-very-effective">
                                            <h5 class="text-center mb-3">Resistant (0.5x)</h5>
                                            <div class="effectiveness-list" id="notVeryEffectiveList"></div>
                                        </div>
                                        <div class="effectiveness-card super-resistant">
                                            <h5 class="text-center mb-3">Super Resist (0.25x)</h5>
                                            <div class="effectiveness-list" id="superResistantList"></div>
                                        </div>
                                        <div class="effectiveness-card no-effect">
                                            <h5 class="text-center mb-3">No Effect (0x)</h5>
                                            <div class="effectiveness-list" id="noEffectList"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Type Chart Table -->
                                <div class="type-chart-container">
                                    <div class="type-chart-table" id="typeChartTable">
                                        <!-- Table will be generated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer-custom text-center">
            <div class="container-fluid">
                <div class="footer-content">
                    <p class="footer-text mb-0">
                        2025 PokeDataMMO - Created by Victor Bola√±os for managing strategies, farming and data for PokeMMO game
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB0jcy1XMigBepVTJnyywWKapOnmUWr2kU",
            authDomain: "pokedatammo.firebaseapp.com",
            projectId: "pokedatammo",
            storageBucket: "pokedatammo.firebasestorage.app",
            messagingSenderId: "172800873755",
            appId: "1:172800873755:web:dd03fce2491d398b722fbe"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Initialize Firestore with offline persistence
        const db = firebase.firestore();
        
        // Habilitar persistencia offline para mejor manejo de conexiones intermitentes
        // Esto permite que Firebase funcione incluso con conexiones lentas o intermitentes
        db.enablePersistence({
            synchronizeTabs: true
        }).catch((err) => {
            // Si falla (por ejemplo, en modo inc√≥gnito), continuar sin persistencia
            if (err.code === 'failed-precondition') {
                console.warn('Firebase persistence no disponible (m√∫ltiples pesta√±as o modo inc√≥gnito)');
            } else if (err.code === 'unimplemented') {
                console.warn('Firebase persistence no soportado en este navegador');
            } else {
                console.warn('Error al habilitar persistencia:', err);
            }
        });
        
        // Configurar timeouts m√°s largos para conexiones muy lentas (72 kbps+)
        db.settings({
            cacheSizeBytes: firebase.firestore.CACHE_SIZE_UNLIMITED,
            ignoreUndefinedProperties: true
        });
        
        // Nota: Los timeouts y reintentos est√°n configurados en auth-manager.js
        // para manejar conexiones muy lentas (hasta 72 kbps)
    </script>
    
    <!-- Shared Utilities -->
    <script src="source/utils.js"></script>
    <!-- Language Manager (MUST load first) -->
    <script src="source/language-manager.js"></script>
    <!-- Local Data Files (MUST load before PVP scripts) -->
    <script src="data/items.js"></script>
    <script src="data/moves.js"></script>
    <script src="data/pokemon.js"></script>
    <script src="data/abilities.js"></script>
    <script src="data/natures.js"></script>
    <!-- Authentication Manager -->
    <script src="source/auth-manager.js"></script>
    <!-- Berry Calculator Scripts -->
    <script src="source/berry-calculator/berry-data.js"></script>
    <script src="source/berry-calculator/berry-calculations.js"></script>
    <script src="source/berry-calculator/berry-ui.js"></script>
    <script src="source/berry-calculator/berry-calculator.js"></script>
    
    <!-- PVP Teams Scripts -->
    <script src="source/pvp-teams/pvp-team-data.js"></script>
    <script src="source/pvp-teams/pokemon-data-loader.js"></script>
    <script src="source/pvp-teams/custom-dropdowns.js"></script>
    <script src="source/pvp-teams/pokemon-builder.js"></script>
    <script src="source/pvp-teams/pvp-team-ui.js"></script>
    <script src="source/pvp-teams/pvp-teams.js"></script>
    
    <!-- Damage Calculator Script (debe cargarse DESPU√âS de PVP Teams) -->
    <script src="source/damage-calculator.js"></script>
    <!-- Custom JS -->
    <script src="source/script.js"></script>
    <!-- Music Player JS -->
    <script src="source/music-player.js"></script>
    <!-- Type Chart JS -->
    <script src="source/type-chart.js"></script>
    <!-- Pok√©dex JS -->
    <script src="source/pokedex/poke-utils.js"></script>
    <script src="source/pokedex/pokemon-api.js"></script>
    <script src="source/pokedex/pokemon-cache.js"></script>
    <script src="source/pokedex/pokemon-stats.js"></script>
    <script src="source/pokedex/pokemon-card.js"></script>
    <script src="source/pokedex/pokemon-search.js"></script>
    <script src="source/pokedex/pokedex.js"></script>
</body>
</html>